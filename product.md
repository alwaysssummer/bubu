# ğŸ“¦ Product Document - ë¶€ë¶€ ê°€ê³„ë¶€ (to_be_rich)

> **í”„ë¡œì íŠ¸ ìƒíƒœ:** âœ… MVP ì™„ë£Œ (v1.0)  
> **ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸:** 2025-12-19  
> **ê´€ë¦¬ì:** Captain

---

## ğŸ¯ í”„ë¡œì íŠ¸ ê°œìš”

### í•µì‹¬ ì»¨ì…‰
**"ë§í¬ í•˜ë‚˜ë¡œ ì‹œì‘í•˜ëŠ” ë¶€ë¶€ ê°€ê³„ë¶€"**

- íšŒì›ê°€ì… ì—†ì´ ë§í¬ë§Œìœ¼ë¡œ ì¦‰ì‹œ ì‚¬ìš©
- ë¶€ë¶€ê°€ ì‹¤ì‹œê°„ìœ¼ë¡œ ë™ê¸°í™”ë˜ëŠ” ê°€ê³„ë¶€
- 1ë§Œì› ë‹¨ìœ„ ê°„í¸ ì…ë ¥ìœ¼ë¡œ ë¹ ë¥¸ ê¸°ë¡
- ì˜ˆì‚° ì²´í¬ë¦¬ìŠ¤íŠ¸ + í• ì¼ ëª©ë¡ í†µí•©

### íƒ€ê²Ÿ ì‚¬ìš©ì
- ì‹ í˜¼ë¶€ë¶€, ë™ê±° ì»¤í”Œ
- ê°„ë‹¨í•œ ê°€ê³„ë¶€ê°€ í•„ìš”í•œ ì‚¬ëŒë“¤
- ë³µì¡í•œ ì•± ì‹«ì–´í•˜ëŠ” ì‚¬ìš©ì

---

## ğŸš€ í•µì‹¬ ê¸°ëŠ¥ (v1.0)

### 1. ğŸ’° ê°€ê³„ë¶€ ë©”ì¸
- **ì”ê³  ëŒ€ì‹œë³´ë“œ**
  - í˜„ì¬ ì”ê³  (ë§Œì› ë‹¨ìœ„)
  - ì´ì›” ì”ì•¡ ìë™ ê³„ì‚°
  - ì›”ë³„ ìˆ˜ìµ/ì§€ì¶œ í•©ê³„
  - ìƒ‰ìƒ êµ¬ë¶„ (ìˆ˜ìµ: ì´ˆë¡, ì§€ì¶œ: ë¹¨ê°•)

- **ê±°ë˜ ë‚´ì—­**
  - ìˆ˜ìµ/ì§€ì¶œ ë¹ ë¥¸ ì…ë ¥ (í•˜ë‹¨ ë²„íŠ¼)
  - í•­ëª© ìë™ì™„ì„± (ìµœê·¼ ì‚¬ìš© + ì¶”ì²œ)
  - ë‹´ë‹¹ì ì„ íƒ (ë‚¨í¸/ì•„ë‚´)
  - ë‚ ì§œ ì„ íƒ (ìº˜ë¦°ë”)
  - ë©”ëª¨ ê¸°ëŠ¥
  - ìˆ˜ì •/ì‚­ì œ

- **ì›” ë„¤ë¹„ê²Œì´ì…˜**
  - ì´ì „/ë‹¤ìŒ ë‹¬ ì´ë™
  - ê³¼ê±° ë‚´ì—­ ì¡°íšŒ

- **í†µê³„ & ë¶„ì„**
  - ì›”ë³„ ë¹„êµ ì°¨íŠ¸ (ìµœê·¼ 6ê°œì›”)
  - ì¹´í…Œê³ ë¦¬ë³„ ì§€ì¶œ ë¶„ì„
  - Progress Bar ì‹œê°í™”

### 2. ğŸ“‹ ì˜ˆì‚° ì²´í¬ ëª©ë¡
- ë§¤ì›” ë°˜ë³µ ì§€ì¶œ/ìˆ˜ìµ í•­ëª© ê´€ë¦¬
- ì²´í¬ë°•ìŠ¤ë¡œ ì§‘í–‰ ì—¬ë¶€ í‘œì‹œ
- ì˜ˆìƒ ì”ê³  ì‹¤ì‹œê°„ ê³„ì‚°
- ìˆ˜ìµ/ì§€ì¶œ ì„¹ì…˜ ë¶„ë¦¬
- ë°˜ë³µ í•­ëª© ìë™ ì´ì›” (ì „ì›” ë¯¸ì²´í¬ í•­ëª©)

### 3. âœ“ í• ì¼ ëª©ë¡ (ë©”ì¸ í™”ë©´ í†µí•©)
- ë¹ ë¥¸ í• ì¼ ì¶”ê°€ (Enter í‚¤)
- ìš”ì²­ì/ë‹´ë‹¹ì ì§€ì •
- ë§ˆê°ì¼ ì„¤ì •
- ì™„ë£Œ ì²˜ë¦¬ (ë©”ëª¨ ì¶”ê°€)
- ì§„í–‰ì¤‘/ì™„ë£Œ ì„¹ì…˜ ë¶„ë¦¬
- ë§ˆê°ì¼ ì§€ë‚¨ ê°•ì¡° í‘œì‹œ

### 4. ğŸ”— ë§í¬ ê¸°ë°˜ ê³µìœ 
- UUID ê¸°ë°˜ ê³ ìœ  ë§í¬ ìƒì„±
- ë§í¬ ë³µì‚¬ ë²„íŠ¼
- ëª¨ë°”ì¼ Web Share API ì§€ì›
- ì¸ì¦ ì—†ì´ ë§í¬ë§Œìœ¼ë¡œ ì ‘ê·¼

### 5. âš¡ ì‹¤ì‹œê°„ ë™ê¸°í™”
- Supabase Realtime êµ¬ë…
- ì—¬ëŸ¬ ê¸°ê¸° ë™ì‹œ ì‚¬ìš© ê°€ëŠ¥
- ìë™ ë°ì´í„° ê°±ì‹ 

### 6. ğŸ“± ëª¨ë°”ì¼ ìµœì í™”
- PWA ì§€ì› (í™ˆ í™”ë©´ ì¶”ê°€)
- ë°˜ì‘í˜• ë””ìì¸
- í„°ì¹˜ ìµœì í™”
- Apple Web App ì§€ì›

---

## ğŸ› ï¸ ê¸°ìˆ  ìŠ¤íƒ

### Frontend
- **Framework:** Next.js 15 (App Router)
- **Language:** TypeScript
- **Styling:** Tailwind CSS 4
- **UI Library:** shadcn/ui (Radix UI)
- **Icons:** Lucide React
- **Charts:** Recharts
- **Date:** date-fns, react-day-picker
- **Theme:** next-themes (ë‹¤í¬ëª¨ë“œ)
- **Toast:** Sonner

### Backend
- **Database:** Supabase (PostgreSQL)
- **Realtime:** Supabase Realtime
- **Auth:** ì—†ìŒ (ë§í¬ ê¸°ë°˜)

### Deployment
- **Hosting:** Vercel
- **CI/CD:** Git push â†’ ìë™ ë°°í¬

---

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
to_be_rich/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ page.tsx                    # ëœë”© (ìƒˆ ê°€ê³„ë¶€ ìƒì„±)
â”‚   â”œâ”€â”€ layout.tsx                  # ë£¨íŠ¸ ë ˆì´ì•„ì›ƒ
â”‚   â””â”€â”€ [householdId]/              # ê°€ê³„ë¶€ ë¼ìš°íŒ…
â”‚       â”œâ”€â”€ layout.tsx              # ê³µí†µ ë ˆì´ì•„ì›ƒ (íƒ­ë°”)
â”‚       â”œâ”€â”€ page.tsx                # ê°€ê³„ë¶€ ë©”ì¸ + í• ì¼
â”‚       â”œâ”€â”€ budget/                 # ì˜ˆì‚° ê´€ë¦¬
â”‚       â”‚   â””â”€â”€ page.tsx
â”‚       â””â”€â”€ test-connection/        # ë””ë²„ê¹… ë„êµ¬
â”‚           â””â”€â”€ page.tsx
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ ui/                         # shadcn/ui ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ TransactionDialog.tsx      # ê±°ë˜ ì¶”ê°€/ìˆ˜ì • ëª¨ë‹¬
â”‚   â”œâ”€â”€ BudgetItemDialog.tsx       # ì˜ˆì‚° í•­ëª© ëª¨ë‹¬
â”‚   â”œâ”€â”€ TodoDialog.tsx              # í• ì¼ ëª¨ë‹¬
â”‚   â”œâ”€â”€ CategoryCombobox.tsx       # í•­ëª© ìë™ì™„ì„±
â”‚   â”œâ”€â”€ MonthlyChart.tsx            # ì›”ë³„ ì°¨íŠ¸
â”‚   â”œâ”€â”€ CategoryAnalysis.tsx       # ì¹´í…Œê³ ë¦¬ ë¶„ì„
â”‚   â””â”€â”€ LoadingSkeletons.tsx       # Skeleton UI
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ supabase.ts                 # Supabase í´ë¼ì´ì–¸íŠ¸
â”‚   â”œâ”€â”€ types.ts                    # TypeScript íƒ€ì…
â”‚   â”œâ”€â”€ utils.ts                    # ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
â”‚   â””â”€â”€ hooks/
â”‚       â”œâ”€â”€ useTransactions.ts      # ê±°ë˜ ë‚´ì—­ í›…
â”‚       â””â”€â”€ useMonthlyBalance.ts    # ì›”ë³„ ì”ê³  í›…
â”œâ”€â”€ supabase/
â”‚   â””â”€â”€ schema.sql                  # DB ìŠ¤í‚¤ë§ˆ
â””â”€â”€ docs/
    â”œâ”€â”€ ë¹ ë¥¸_ì‹œì‘_ê°€ì´ë“œ.md
    â”œâ”€â”€ Supabase_ì„¤ì •_ê°€ì´ë“œ.md
    â”œâ”€â”€ Vercel_ë°°í¬_ê°€ì´ë“œ.md
    â”œâ”€â”€ ê°œë°œí”Œëœ.md
    â”œâ”€â”€ ê°œë°œìš”ì•½.md
    â””â”€â”€ ê°œë°œ_ì§„í–‰_ìƒí™©.md
```

---

## ğŸ¨ ë””ìì¸ ì‹œìŠ¤í…œ

### ì»¬ëŸ¬ íŒ”ë ˆíŠ¸
- **Primary:** Vercel Black (#000000)
- **Accent:** Supabase Green (#3ECF8E)
- **Success:** Green (#22C55E)
- **Danger:** Red (#EF4444)
- **Background:** White / Dark (#0A0A0A)

### íƒ€ì´í¬ê·¸ë˜í”¼
- **Font:** Inter (ì˜ë¬¸), Pretendard (í•œê¸€)
- **Scale:** text-xs ~ text-4xl

### ì»´í¬ë„ŒíŠ¸ ìŠ¤íƒ€ì¼
- ë¯¸ë‹ˆë©€ ë””ìì¸
- ë¶€ë“œëŸ¬ìš´ ê·¸ë¦¼ì (shadow-sm)
- ë‘¥ê·¼ ëª¨ì„œë¦¬ (rounded-lg)
- ë¶€ë“œëŸ¬ìš´ ì• ë‹ˆë©”ì´ì…˜

---

## ğŸ“Š ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ

> ìƒì„¸ ë‚´ìš©ì€ `db.md` ì°¸ê³ 

### í…Œì´ë¸” ëª©ë¡
1. **household** - ê°€ê³„ë¶€ ë‹¨ìœ„
2. **transactions** - ê±°ë˜ ë‚´ì—­
3. **budget_items** - ì˜ˆì‚° ì²´í¬ ëª©ë¡
4. **todos** - í• ì¼ ëª©ë¡
5. **monthly_balances** - ì›”ë³„ ì´ì›” ì”ì•¡

---

## ğŸ” ë³´ì•ˆ & ê¶Œí•œ

### Row Level Security (RLS)
- ëª¨ë“  í…Œì´ë¸”: ë§í¬ë§Œ ì•Œë©´ ì½ê¸°/ì“°ê¸° ê°€ëŠ¥
- ì¸ì¦ ë¶ˆí•„ìš” (ê°„í¸í•¨ ìš°ì„ )

### ì£¼ì˜ì‚¬í•­
- ë§í¬ ìœ ì¶œ ì‹œ ëˆ„êµ¬ë‚˜ ì ‘ê·¼ ê°€ëŠ¥
- ë¯¼ê°í•œ ì •ë³´ ì…ë ¥ ìì œ ê¶Œì¥
- ê°œì¸ìš©/ë¶€ë¶€ìš©ìœ¼ë¡œë§Œ ì‚¬ìš© ê¶Œì¥

---

## ğŸš€ ë°°í¬ ì •ë³´

### í™˜ê²½ë³€ìˆ˜
```env
NEXT_PUBLIC_SUPABASE_URL=your-project-url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key
```

### ë°°í¬ í”Œë«í¼
- **Production:** Vercel
- **Database:** Supabase

### ë°°í¬ ë°©ë²•
```bash
git push origin master
# Vercel ìë™ ë°°í¬
```

---

## ğŸ“ˆ ë²„ì „ íˆìŠ¤í† ë¦¬

### v1.1 (2025-12-19) - í˜„ì¬ ë²„ì „
- **v1.1**: UX ê°œì„  - í‚¤ë³´ë“œ ë¹ ë¥¸ ì…ë ¥
  - í•­ëª© ì…ë ¥ í›„ Enter â†’ ê¸ˆì•¡ ì…ë ¥ìœ¼ë¡œ ìë™ í¬ì»¤ìŠ¤
  - ê¸ˆì•¡ ì…ë ¥ í›„ Enter â†’ ì¦‰ì‹œ ê±°ë˜ ì¶”ê°€
  - í‚¤ë³´ë“œë§Œìœ¼ë¡œ ë¹ ë¥¸ ë°ì´í„° ì…ë ¥ ê°€ëŠ¥

### v1.0 (2025-12-19)
- **v1.0**: MVP ì™„ë£Œ - ëª¨ë“  í•µì‹¬ ê¸°ëŠ¥ êµ¬í˜„
  - ê°€ê³„ë¶€ ë©”ì¸ (ì”ê³ , ê±°ë˜, í†µê³„)
  - ì˜ˆì‚° ì²´í¬ ëª©ë¡ (ë°˜ë³µ í•­ëª©)
  - í• ì¼ ëª©ë¡ (ë©”ì¸ í†µí•©)
  - ì‹¤ì‹œê°„ ë™ê¸°í™”
  - PWA ì§€ì›
  - ì„±ëŠ¥ ìµœì í™” (Skeleton UI)

### ê°œë°œ ë¡œê·¸ (2025-11-13 ì´ì „)
- í”„ë¡œì íŠ¸ ì´ˆê¸° ì„¤ì •
- ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ êµ¬ì¶•
- ê±°ë˜ CRUD êµ¬í˜„
- ì›”ë³„ ì´ì›” ë¡œì§
- ì˜ˆì‚° ê´€ë¦¬ ê¸°ëŠ¥
- í†µê³„ & ë¶„ì„ ì¶”ê°€
- ëª¨ë°”ì¼ ìµœì í™”
- ë‚ ì§œ ê³„ì‚° ë²„ê·¸ ìˆ˜ì •

---

## ğŸŒ³ Git ì»¤ë°‹ íˆìŠ¤í† ë¦¬

```
* c751cfb (HEAD -> master, origin/master) docs: Update product.md to v1.1
â”‚         â””â”€ Enter key navigation ê¸°ëŠ¥ ë¬¸ì„œí™”
â”‚
* 4b1d6c4 feat: Add Enter key navigation for quick transaction input
â”‚         â”œâ”€ í•­ëª© ì…ë ¥ í›„ Enter â†’ ê¸ˆì•¡ ì…ë ¥ í¬ì»¤ìŠ¤
â”‚         â”œâ”€ ê¸ˆì•¡ ì…ë ¥ í›„ Enter â†’ ê±°ë˜ ì¶”ê°€
â”‚         â””â”€ í‚¤ë³´ë“œ ì „ìš© ì›Œí¬í”Œë¡œìš° êµ¬í˜„
â”‚
* 2b473a0 fix: Update Next.js to 16.1.0 (CVE-2025-66478)
â”‚         â”œâ”€ ë³´ì•ˆ ì·¨ì•½ì  í•´ê²°
â”‚         â”œâ”€ product.md ì¶”ê°€
â”‚         â””â”€ db.md ì¶”ê°€
â”‚
* d14fb31 fix: ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” import ë° ë³€ìˆ˜ ì •ë¦¬
â”‚
* 403ce5b feat: í•˜ë‹¨ íƒ­ë°”ì— ìˆ˜ìµ/ì§€ì¶œ ë¹ ë¥¸ ì…ë ¥ ë²„íŠ¼ ì¶”ê°€
â”‚
* 6d94cb0 UI: Reorganize bottom navigation
â”‚         â””â”€ í• ì¼ íƒ­ ì œê±°, ê°€ê³„ë¶€/ì˜ˆì‚° ì¤‘ì‹¬ ë„¤ë¹„ê²Œì´ì…˜
â”‚
* bd49f70 UI: Drastically reduce padding for more space
â”‚
* 7ea1099 UI: Reduce padding in balance and todo sections
â”‚
* 9311182 Feat: Integrate todo list into main household page
â”‚         â”œâ”€ í• ì¼ ëª©ë¡ ë©”ì¸ í™”ë©´ í†µí•©
â”‚         â”œâ”€ Enter í‚¤ë¡œ ë¹ ë¥¸ ì¶”ê°€
â”‚         â””â”€ ì¸ë¼ì¸ ìˆ˜ì •/ì‚­ì œ
â”‚
* 45ec6cb UI: Change transaction input order (category before amount)
â”‚
* 4c6ab66 Feat: Calculate opening balance from all previous transactions
â”‚
* 0de54e4 Fix: Recurring items now also carry over as (ì „ì›”) when unchecked
â”‚
* 5a16b47 Fix: Rewrite budget item copy logic
â”‚
* 0a548cd Fix: Prevent duplicate carry-over for recurring items
â”‚
* 471664f Feat: Auto-carry unchecked budget items to next month
â”‚
* a533a82 Feat: Add automatic copying of recurring budget items
â”‚
* 81aaeac UI: Reduce balance font size and add right padding
â”‚
* 5343070 Feat: Add open in new tab button
â”‚
* 894eb12 Feat: Add household list management features
```

**ìµœê·¼ ì—…ë°ì´íŠ¸:** 2ë¶„ ì „ (2025-12-19)

---

## ğŸ¯ í–¥í›„ ê³„íš (Phase 2)

### ìš°ì„ ìˆœìœ„ ë‚®ìŒ (MVP ì•„ë‹˜)
- [ ] ê²€ìƒ‰ & í•„í„° ê¸°ëŠ¥
- [ ] CSV ë°ì´í„° ë°±ì—…/ë‚´ë³´ë‚´ê¸°
- [ ] ì¹´í…Œê³ ë¦¬ ì»¤ìŠ¤í„°ë§ˆì´ì§•
- [ ] ë‹¤í¬ëª¨ë“œ í† ê¸€ ë²„íŠ¼ (í˜„ì¬ ì‹œìŠ¤í…œ ì„¤ì • ë”°ë¦„)
- [ ] ì•Œë¦¼ ê¸°ëŠ¥ (ë§ˆê°ì¼, ì˜ˆì‚° ì´ˆê³¼)

---

## ğŸ“ ì§€ì› & ë¬¸ì˜

### ë¬¸ì„œ
- ë¹ ë¥¸ ì‹œì‘: `docs/ë¹ ë¥¸_ì‹œì‘_ê°€ì´ë“œ.md`
- Supabase ì„¤ì •: `docs/Supabase_ì„¤ì •_ê°€ì´ë“œ.md`
- ë°°í¬ ê°€ì´ë“œ: `docs/Vercel_ë°°í¬_ê°€ì´ë“œ.md`

### ë””ë²„ê¹…
- ì—°ê²° í…ŒìŠ¤íŠ¸: `/[householdId]/test-connection`

---

## ğŸ“ ê°œë°œ ë…¸íŠ¸

### ì£¼ìš” ê²°ì •ì‚¬í•­
1. **ë§í¬ ê¸°ë°˜ ì¸ì¦**
   - íšŒì›ê°€ì… ì—†ì´ ì¦‰ì‹œ ì‚¬ìš© ê°€ëŠ¥
   - UUIDë¡œ ê³ ìœ  ë§í¬ ìƒì„±

2. **1ë§Œì› ë‹¨ìœ„ ì…ë ¥**
   - ê°„í¸í•œ ì…ë ¥ì„ ìœ„í•´ ë§Œì› ë‹¨ìœ„ë¡œ ì œí•œ
   - ì •í™•í•œ ê¸ˆì•¡ë³´ë‹¤ ë¹ ë¥¸ ê¸°ë¡ ìš°ì„ 

3. **ì‹¤ì‹œê°„ ë™ê¸°í™”**
   - Supabase Realtimeìœ¼ë¡œ ì—¬ëŸ¬ ê¸°ê¸° ë™ì‹œ ì‚¬ìš©
   - ë³„ë„ ìƒˆë¡œê³ ì¹¨ ë¶ˆí•„ìš”

4. **ë¯¸ë‹ˆë©€ ë””ìì¸**
   - Vercel/Supabase ìŠ¤íƒ€ì¼ ì°¨ìš©
   - ë¶ˆí•„ìš”í•œ ìš”ì†Œ ì œê±°

5. **í• ì¼ ë©”ì¸ í†µí•©**
   - ë³„ë„ íƒ­ ëŒ€ì‹  ë©”ì¸ í™”ë©´ì— í†µí•©
   - ë¹ ë¥¸ ì…ë ¥ (Enter í‚¤) ì§€ì›

### ì•Œë ¤ì§„ ì œí•œì‚¬í•­
- Supabase ë¬´ë£Œ í”Œëœ: 500MB DB, 1ì£¼ì¼ ë¹„í™œì„± ì‹œ ì¼ì‹œ ì •ì§€
- 1ë§Œì› ë‹¨ìœ„ë¡œë§Œ ì…ë ¥ ê°€ëŠ¥ (ì› ë‹¨ìœ„ ë¶ˆê°€)
- ë§í¬ ê¸°ë°˜ ì ‘ê·¼ (ë³´ì•ˆ ì£¼ì˜)

---

**ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸:** 2025-12-19  
**ë²„ì „:** v1.0  
**ìƒíƒœ:** âœ… í”„ë¡œë•ì…˜ ë ˆë””
